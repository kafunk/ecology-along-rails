<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Ecology Along the Rails</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <!-- <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.45.0/mapbox-gl.css' rel='stylesheet' /> -->
  <link href='https://api.mapbox.com/mapbox-assembly/v0.21.2/assembly.min.css' rel='stylesheet' />
  <link href="https://fonts.googleapis.com/css?family=Mirza:400,500,600,700|Buda:300|Thasadith:400,400i,700|Fredericka+the+Great|Sirin+Stencil" rel="stylesheet" />
  <link href='css/styles.css' rel='stylesheet' />
</head>
<body>

  <!-- inner body wrapper (vertical)-->
  <div class="flex-parent flex-parent--column flex-parent--center-main flex-parent--stretch-cross bg-base viewport-full">

    <!-- header stays up top, takes up full width -->
    <header id="header" class="flex-child flex-child--no-shrink bg-lighten25">

      <!-- inner horizontal wrapper -->
      <div class="flex-parent flex-parent--center-cross grid px6 py6 px12-mm px18-ml px24-mxl">
        <!-- TITLE -->
        <div class="flex-child col col--12">
          <div class="flex-parent flex-parent--column flex-parent--center-main">
            <h1 id="title" class="flex-child txt-h3 txt-h2-ml txt-nowrap mt-neg3 mt0-mm pt3-ml pt6-mxl ml3 mb-neg12 color-lighten75">Ecology along the rails:</h1>
            <h2 id="subtitle" class="flex-child txt-h5 txt-h4-ml ml18 ml24-mm ml30-ml ml36-mxl mb-neg3 mb0-mm pb3-mxl color-darken50">A visualization of the journeys implicit in passenger train travel within North America</h2>
          </div>
        </div>
      </div>

    </header>

    <!-- grows vertically in the middle -->
    <main id="main" class="flex-child flex-child--grow bg-main">

      <!-- inner horizontal wrapper -->
      <div class="flex-parent flex-parent--column flex-parent--row-mxl flex-parent--center-main flex-parent--stretch-cross relative scroll-hidden"> <!-- flex-parent--start-cross,stretch-cross-mxl-->

        <!-- map and dash pane -->
        <section id="section" class="flex-child flex-child--grow scroll-hidden bg-section">

          <!-- inner map and dash wrapper -->
          <div id="section-wrapper" class="flex-parent flex-parent--column flex-parent--center-main flex-parent--stretch-cross relative"> <!-- RELATIVE FOR ATTRIBUTION AND keeping #about separate from map pane-->

            <!-- map and overlay pane -->
            <div id="map-plus" class="flex-child flex-child--grow scroll-hidden bg-darken75"> <!--h-full?-->

              <div class="flex-parent flex-parent--center-main flex-parent--center-cross relative bg-map">

                <!-- map overlay: buttons, legend, other ui -->
                <div id="overlay" class="absolute top bottom right left mx3-mm my3-mm mx6-mxl my6-mxl"> <!-- elements' zIndex individually increased as z4 to prevent blocking access to map itself -->

                  <!-- top left // Custom Data UI Elements -->
                  <div id="nav-btns" class='flex-parent flex-parent--center-cross flex-parent--center-main absolute top left mx6 my6 py3 txt-xs txt-s-mm txt-m-mxl z4 none'><!-- decrese zIndex if more than 1 button visible to avoid blocking modal-->
                    <button disabled id="replay" class='btn round bg-lighten75 replay mx3 mx6-mxl px6 py3 py6-ml px12-ml py3-mxl none'><del>Replay</del></button>
                    <!-- keep route choice, reset counter, reset data reveal, begin again -->
                    <button disabled id="play-pause" class='btn round bg-lighten75 play-pause mx3 mx6-mxl px6 py3 py6-ml px12-ml py3-mxl none'><del>Play/Pause</del></button>
                    <!-- stop/init counter without data resets -->
                    <button id="select-new" class='btn round bg-lighten75 reset-options mx3 mx6-mxl px6 py3 py6-ml px12-ml py3-mxl' onclick="selectNew()">Select New Route</button>
                    <!-- prompt user: do you wish to select a new route? + follow through -->
                  </div>

                  <!-- top right // About/Info icon on small screens -->
                  <div id="info" class="absolute top right mr-neg6 z4 none-ml">
                    <button class='btn color-lighten75 bg-transparent color-darken25-on-hover color-darken50-active round' onclick="toggleModal('modal-about')">
                      <svg class='icon h24 w24 h30-mm w30-mm'><use xlink:href='#icon-info'/></svg>
                    </button>
                  </div>
                   <!-- px0 py0 mt-neg3-mm mr-neg3-mm x-neg6 mt-neg1 -->

                  <!-- bottom right // Basic/Expected Map Elements -->
                  <!-- <div id="attribution" class='absolute bottom right mt-neg18 color-lighten50 bg-darken50 px6 round-tl round-bl px12-mm px18-mxl mr-neg3-mm mr-neg6-mxl txt-xs txt-s-mxl txt-shadow-lighten10 z1> -->
                    <!-- Attribution * ALSO POSITIONED RELATIVE TO DASH PANEL * should be visualized here only when dash hidden -->
                    <!-- <span>Visualized with D3.js</span>
                    <span class="px3">||</span>
                    <span>Routing via to Rome2Rio</span>
                  </div> -->

                  <!-- also top right: zoom buttons -->
                  <label id="zoom" class="absolute top right flex-parent-inline flex-parent--column z4 mr6 mr12-ml mt36 mt6-ml pt6-mm pr1-mm pr0-ml w24 w30-mm">
                    <button id="zoomIn" class="btn btn--pill btn--pill-vt bg-lighten75 bg-darken25-on-hover bg-darken75-on-active round zoom-btn px3 py3 px6-mm px3-ml py6-mm">
                      <svg class='icon w18 h18 w24-ml link color-darken50 px0'><use xlink:href='#icon-plus'></use></svg>
                    </button>
                    <button id="zoomOut" class="btn btn--pill btn--pill-vb bg-lighten75 bg-darken25-on-hover bg-darken75-on-active round zoom-btn px3 py3 px6-mm px3-ml py6-mm">
                      <svg class='icon w18 h18 w24-ml link color-darken50'><use xlink:href='#icon-minus'></use></svg>
                    </button>
                  </label>

                </div> <!-- end of ui-overlay-group -->

                <!-- map svg/canvas -->
                <div id="map" class="flex-child flex-child--grow bg-darken50 mb-neg6">
                  <!-- <svg height="780" width="780" class="align-center mx-auto"><use href="assets/my-compass-rose.svg#my-compass-rose"/></svg> -->
                </div>

              </div>

            </div>

            <!-- dash pane -->
            <div id="dash-plus" class="absolute bottom w-full"><!-- ** remove 'absolute' to keep separate from map ** -->

              <!-- dash toggles and content group -->
              <div class="flex-parent flex-parent--column flex-parent--stretch-cross flex-parent--center-main relative">

                <div id="dash-toggles" class="flex-child z4">

                  <div class="flex-parent flex-parent--center-cross flex-parent--center-main relative">

                    <!-- dash expand triggers -->
                    <label id="dash-expand" class="flex-child h24 z2">
                      <!-- dash expand triangle--u -->
                      <button id="dash-expand-btn" class='absolute left right btn color-lighten100 bg-accent1 bg-red-light-on-hover color-darken50-on-hover color-darken75-on-active round-t-full h18 h24-mxl mt6 mt0-mxl border-b border-b--0-mxl w-full' onclick="expand('dash','up')">
                        <span id="dash-up" class='icon triangle-l triangle-l--u mx-auto mt-neg18 mt-neg6-mxl'></span>
                      </button>
                    </label>

                    <label id="dash-collapse" class="flex-child h12 z2 none">
                      <!-- dash collapse triangle--d -->
                      <button id="dash-collapse-btn" class='absolute left right btn color-lighten100 bg-transparent color-darken50-on-hover color-darken75-on-active unround w-full h18' onclick="collapse('dash','down')">
                        <span class='icon triangle-l triangle-l--d mx-auto mt0 mt12-mm'></span>
                      </button>
                    </label>

                    <div id="attribution" class='absolute right color-lighten50 bg-darken50 round-tl round-bl px6 px12-mm px24-mxl mt-neg18 mt-neg24-mxl txt-xs txt-s-mxl txt-shadow-lighten10 z1'>
                      <span>Visualized with D3.js</span>
                      <span class="px3-mm">||</span>
                      <span>Routing via to Rome2Rio</span>
                    </div>

                  </div>

                </div>

                <!-- dash -->
                <div id="dash" class="flex-child disappear-down">

                  <!-- inner dash wrapper -->
                  <div id="dash-wrapper" class='flex-parent flex-parent--stretch-cross'>

                    <!-- dash content group -->
                    <div id="dash-content" class='flex-child round-mm shadow-darken25-mm w-full px6-mm bg-transparent'>

                      <!-- inner vertical wrapper -->
                      <div id="resizable2" class='flex-parent flex-parent--column flex-parent--center-main pt3 px6-mm py12-mm'>

                        <!-- Dash--Header -->
                        <div class="flex-child flex-child--no-shrink bg-lighten25 round-tl-mm round-tr-mm pb3 pt6 flex-parent flex-parent--center-cross flex-parent--center-main"><!-- hmin18 if content-->
                          <!-- <h3 class='flex-child txt-h4 txt-bold txt-em pt3'>Dashboard</h3> -->
                        </div>

                        <!-- Dash--Main -->
                        <div id="resizable" class="flex-child flex-child--grow bg-lighten50 txt-xs txt-s-mm txt-m-mxl round-bl-mm round-br-mm">

                          <!-- resizer -->
                          <div class="flex-child resizer child-resizer absolute top mt12 mt24-mm h6 w-full ml-neg12-mm opacity50 bg-yellow-light-on-hover z5"></div>

                          <!-- main content inner wrapper -->
                          <div class='flex-parent flex-parent--space-between-main flex-parent--stretch-cross h-full grid'>

                            <!-- Legend-Log -->
                            <div class="col col--5 h-full">

                              <div id="legend-log" class="flex-child flex-child--grow h-full py6 py12-mm pr6 pl6 pl12-mm">

                                <div class="flex-parent flex-parent--column round h-full">

                                  <!-- header -->
                                  <div id="legend-log-header" class="flex-child flex-child--no-shrink bg-darken25 round-tl round-tr color-lighten75 hmin24 py3 flex-parent flex-parent--center-cross flex-parent--center-main">
                                    <h5 class='flex-child txt-h6 txt-fancy txt-em txt-bold'>Journey Log</h5>
                                  </div>

                                  <!-- to-from insert -->
                                  <div id="from-to" class="flex-child bg-lighten25 scroll-auto">
                                    <div class="flex-parent flex-parent--center-cross flex-parent--center-main h-full py3 px3">
                                      <div id="from" class="flex-child txt-xs pl12 pr3 flex-parent flex-parent--column"><!--if centering: w36 w60-mm--><!--alt: ml6 mt6--><!--or start-cross-->
                                        <svg class='icon flex-child h18 w18 h24-mm w24-mm'><use xlink:href='#icon-depart'></use></svg><!--if centering: fl mb3--><!--alt: fr-->
                                      </div>
                                      <div id="to" class="flex-child txt-xs pl3 pr12 flex-parent flex-parent--column-reverse"><!--if centering: w36 w60-mm align-r--><!--alt:mb6 mr6--><!--or end-cross-->
                                        <svg class='icon flex-child h18 w18 h24-mm w24-mm'><use xlink:href='#icon-arrive'></use></svg><!--if centering: fr mt3--><!--alt: fl-->
                                      </div>
                                      <div id="via" class="flex-child txt-spacing2 txt-xs pl12 pr6 mx-auto scroll-auto"></div><!--if centering: align-r-->
                                    </div>
                                  </div>

                                  <!-- sibling resizer -->
                                  <div class="flex-child resizer sibling-resizer h3 w-full opacity50 bg-yellow-light-on-hover z5"></div><!-- bg-orange -->

                                  <!-- main content / dynamically populated legend items  -->
                                  <div id="log-content-wrapper" class="flex-child flex-child--grow align-center h-full w-full bg-lighten75 px12 py6 scroll-auto">
                                    <div id="legend-log-content" class="flex-parent flex-parent--column border-b border--dash h-full scroll-auto">
                                    </div>
                                  </div>

                                  <!-- legend-log footer -->
                                  <div id="legend-log-footer" class="flex-child flex-child--no-shrink h6 bg-darken25 round-bl round-br"></div>

                                </div>

                              </div>

                            </div>

                            <!-- Widgets -->
                            <div class="col none block-ml col--2-ml h-full">

                              <div id="widgets-plus" class="flex-child flex-child--grow h-full px6 py6 py12-mm">

                                <div class="flex-parent flex-parent--column h-full round">

                                  <!-- header -->
                                  <div class="flex-child flex-child--no-shrink h6 bg-darken25 py3 color-lighten75 round-tl round-tr"></div>

                                  <!-- content -->
                                  <div class="flex-child flex-child--grow bg-lighten75 px6 py6 scroll-auto">
                                    <div id="widgets" class="flex-parent flex-parent--stretch-cross flex-parent--space-between-main h-full grid round-full bg-darken50">
                                      <div id="row1" class="col col--12 grid">
                                        <div id="elevation-wrapper" class="flex-child col col--6 px3 pb3">
                                          <div id="elevation" class="flex-parent flex-parent--column flex-parent--center-cross flex-parent--center-main h-full txt-mono align-center scroll-auto"></div>
                                        </div>
                                        <div id="odometer-wrapper" class="flex-child col col--6 px3 pb3">
                                          <div id="odometer" class="flex-parent flex-parent--column flex-parent--center-cross flex-parent--center-main h-full txt-mono align-center scroll-auto"></div>
                                        </div>
                                      </div>
                                      <div id="row" class="col col--12 grid">
                                        <div id="compass-wrapper" class="flex-child col col--6 px3 pt3">
                                          <div id="compass" class="flex-parent flex-parent--column flex-parent--center-cross flex-parent--center-main h-full txt-mono align-center scroll-auto"></div>
                                        </div>
                                        <div id="speed-wrapper" class="flex-child col col--6 px3 pt3">
                                          <div id="speedometer" class="flex-parent flex-parent--column flex-parent--center-cross flex-parent--center-main h-full txt-mono align-center scroll-auto"></div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                  <!-- footer -->
                                  <div class="flex-child flex-child--no-shrink h6 bg-darken25 round-bl round-br"></div>

                                </div>

                              </div>

                            </div>

                            <!-- Narration -->
                            <div class="col col--7 col--5-ml h-full">

                              <div id="narration" class="flex-child flex-child--grow h-full py6 py12-mm pl6 pr6 pr12-mm">

                                <div class="flex-parent flex-parent--column h-full round">

                                  <!-- header -->
                                  <div id="narration-header" class="flex-child flex-child--no-shrink bg-darken25 round-tl round-tr color-lighten75 hmin24 py3 flex-parent flex-parent--center-cross flex-parent--center-main">
                                    <h5 class='flex-child txt-h6 txt-fancy txt-em txt-bold'>You are currently:</h5>
                                  </div>

                                  <div id="narration-txt" class="flex-child flex-child--grow bg-lighten75 px3 py3 grid">
                                    <div id="encounters-A" class="h-full col col--4 flex-parent flex-parent--column-reverse scroll-auto">
                                      <div class="flex-child flex-child--no-shrink placeholder mx3 my3 px3 py3 encounter">
                                        <span>Traversing special places</span>
                                      </div>
                                      <div class="flex-child flex-child--no-shrink placeholder mx3 my3 px3 py3 encounter">
                                        <span>Encountering incredible things</span>
                                      </div>
                                      <div class="flex-child flex-child--no-shrink placeholder mx3 my3 px3 py3 encounter">
                                        <span>Beholding the world made fresh again</span>
                                      </div>
                                    </div>
                                    <div id="encounters-B" class="h-full col col--4 flex-parent flex-parent--column-reverse align-center scroll-auto">
                                      <div class="flex-child flex-child--no-shrink placeholder mx3 my3 px3 py3 encounter">
                                        <span>Encountering incredible things</span>
                                      </div>
                                      <div class="flex-child flex-child--no-shrink placeholder mx3 my3 px3 py3 encounter">
                                        <span>Beholding the world made fresh again</span>
                                      </div>
                                      <div class="flex-child flex-child--no-shrink placeholder mx3 my3 px3 py3 encounter">
                                        <span>Traversing special places</span>
                                      </div>
                                    </div>
                                    <div id="encounters-C" class="h-full col col--4 flex-parent flex-parent--column-reverse align-r scroll-auto">
                                      <div class="flex-child flex-child--no-shrink placeholder mx3 my3 px3 py3 encounter">
                                        <span>Beholding the world made fresh again</span>
                                      </div>
                                      <div class="flex-child flex-child--no-shrink placeholder mx3 my3 px3 py3 encounter">
                                        <span>Traversing special places</span>
                                      </div>
                                      <div class="flex-child flex-child--no-shrink placeholder mx3 my3 px3 py3 encounter">
                                        <span>Encountering incredible things</span>
                                      </div>
                                    </div>
                                  </div>

                                  <div id="narration-footer" class="flex-child flex-child--no-shrink h6 bg-darken25 round-bl round-br"></div>

                                </div>

                              </div>

                            </div>

                          </div>

                        </div> <!-- end dash-main -->

                        <!-- Dash--Footer -->
                        <!-- <footer class='flex-child flex-child--no-shrink h0 bg-lighten25 round-bl round-br'></footer> -->

                      </div>

                    </div>

                  </div> <!-- end of dashbord-inner-wrapper -->

                </div> <!-- end of dashboard -->

              </div> <!-- end of dash toggles and content group -->

            </div> <!-- end of dash pane -->

            <div id="veil" class="absolute top bottom right left h-full z4 opacity50 bg-lighten50"></div>

            <!-- modal/loader group -->
            <div id="modal-plus" class="absolute left right flex-parent flex-parent--center-cross flex-parent--center-main z3 none">

              <div id="map-init-load" class='absolute left right loading z4 none'></div>

              <div class="flex-child flex-parent flex-parent--center-cross flex-parent--center-main bg-transparent bg-lighten75 z5"> <!--relative-->

                <!-- modal content options -->
                <div id="modal" class="flex-child flex-child--grow mx36 my36 mx60-ml my60-ml round relative h-full">

                  <!-- inner modal wrapper -->
                  <div class='flex-parent flex-parent--center-cross grid px24 py24 mx-auto round h-full'><!--flex-parent--stretch-cross flex-parent--space-between-main -->

                    <!-- featured content // Modal About -->
                    <div id="modal-about" class='flex-child flex-child--grow col col--12 shadow-darken75 round px12 mx-auto py12 bg-modal none wmax360 wmax600-mm hmax360 h-full'>

                      <!-- inner vertical wrapper -->
                      <div class='flex-parent flex-parent--column flex-parent--center-main h-full'>

                        <!-- About--Header -->
                        <div class="flex-child flex-child--no-shrink bg-lighten25 round-tl round-tr hmin18 pt6 pb3 flex-parent flex-parent--center-cross flex-parent--center-main">
                          <h3 class='flex-child txt-h4 txt-bold txt-em'>About This Map</h3>
                        </div>

                        <!-- About--Main -->
                        <div class="flex-child flex-child--grow bg-lighten75 txt-m round-bl round-br hmax300 scroll-auto">
                          <!-- inner content wrapper -->
                          <div class="flex-parent flex-parent--column flex-parent--space-between-main flex-parent--stretch-cross grid px24 py18 px36-mm py24-mm">
                            <!-- main about text, orientation, etc -->
                            <div class='flex-child col col--offl2 col--10 align-r py3'>
                              <h4 class="txt-h4 txt-bold py3">Some words</h4>
                              <p class="py3">This map visualizes ~~~~~~.</p>
                              <p class="py3">Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Sed posuere consectetur est at lobortis. Aenean eu leo quam.</p>
                            </div>
                            <div class='flex-child col col--12 px6 py18 relative'>
                              <div class="flex-parent flex-parent--column flex-parent--center-main flex-parent--center-cross absolute top bottom left right mb12">
                                <span class="flex-child txt-s h3">&#10229;//\\//\\&#10230;</span>
                                <span class="flex-child txt-s h3">&#10229;\\//\\//&#10230;</span>
                              </div>
                            </div>
                            <!-- data sources, sub-about, furthermore -->
                            <div class='flex-child col col--offr2 col--10 py3'>
                              <h4 class="txt-h4 txt-bold py3">Data sources</h4>
                              <ul class="py3">
                                <li class="txt-li">
                                  <div class="triangle triangle--r color-symbol inline-block mb-neg2"></div>
                                  <a target='_blank' href='#'>this is how i go</a>
                                </li>
                                <li class="txt-li">
                                  <div class="triangle triangle--r color-symbol inline-block mb-neg2"></div>
                                  <a target='_blank' href='#'>when i go</a>
                                </li>
                                <li class="txt-li">
                                  <div class="triangle triangle--r color-symbol inline-block mb-neg2"></div>
                                  <a target='_blank' href='#'>like this</a>
                                </li>
                              </ul>
                            </div>
                          </div>
                        </div>

                      </div>

                    </div>

                    <!-- GET START/END FORM -->
                    <form id="get-options" class="flex-child flex-child--grow col col--12 wmax600 w600-mxl shadow-darken75 round px12 py12 mx-auto bg-modal">
                      <div class="flex-parent flex-parent--center-cross grid bg-lighten50">
                        <!-- Form Header-->
                        <legend class="flex-child col col--12 col--6-mm col--5-mxl my24 align-center px24 px12-ml color-darken75">
                          <h2 class="txt-h3 txt-fancy color-darken75">Select a Route <br class="none inline-block-mm"/> to Experience</h2>
                        </legend>
                        <!-- Fieldset wrapper-->
                        <div class="flex-child col col--12 col--6-mm col--7-mxl px12 py12 bg-lighten75">
                          <!-- Get Start -->
                          <fieldset class="py6 relative">
                            <!-- default input (search box with matching) wrapper -->
                            <div class='absolute flex-parent flex-parent--center-cross w36 h36 pl3'>
                              <!-- <svg class='icon'><use xlink:href='#icon-caret-right'></use></svg> -->
                              <span class="triangle--r"></span>
                            </div>
                            <input type="text" id="getOption0" class="input pl36" value="Enter origin" list="startList" placeholder="You have to start somewhere" required />
                            <datalist id="startList">
                              <label for="option0Suggest">(-- some possibilities --)</label>
                              <!-- backup input box (dropdown) wrapper -->
                              <div class="select-container">
                                <!-- dropdown1 (start route) -->
                                <select id="option0Suggest" class="input select start-node">
                                  <!-- insert start options here: -->
                                  <!-- <option value=${cityState} class=${country}>${cityState}</option> -->
                                </select>
                                <div class='select-arrow'></div>
                              </div>
                            </datalist>
                          </fieldset>
                          <!-- Get End -->
                          <fieldset class="pt12 pb6">
                            <!-- default input (search box with matching) wrapper -->
                            <div class='absolute flex-parent flex-parent--center-cross w36 h36 pl3'>
                              <!-- <svg class='icon'><use xlink:href='#icon-caret-right'></use></svg> -->
                              <span class="triangle--r"></span>
                            </div>
                            <input type="text" id="getOption1" class="input pl36" value="Enter destination" list="endList" placeholder="Everything ends" required />
                            <datalist id="endList">
                              <label for="option1Suggest">(-- some possibilities --)</label>
                              <!-- backup input box (dropdown) wrapper -->
                              <div class="select-container">
                                <!-- dropdown2 (end route) -->
                                <select id="option1Suggest" class="input select end-node">
                                  <!-- insert end options here: -->
                                  <!-- <option value=${cityState} class=${country}>${cityState}</option> -->
                                </select>
                                <div class='select-arrow'></div>
                              </div>
                            </datalist>
                          </fieldset>
                        </div> <!-- end fieldset wrapper -->
                        <!-- GO button -->
                        <fieldset class="flex-child col col--12 h36">
                          <button id="submit-btn" class="h-full w-full btn btn--darken50 unround txt-spacing4 flex-parent flex-parent--center-cross flex-parent--center-main" onclick="onSubmit(this.form.getOption0.value,this.form.getOption1.value)">
                            <span id="submit-btn-txt" class="txt-fancy2 flex-child txt-l mt-neg12 pt6 mb-neg3">LET'S GO</span>
                            <span id="submit-btn-load" class="flex-child loading loading--s loading--dark none"></span>
                          </button>
                        </fieldset>
                      </div> <!-- end form inner wrapper -->
                    </form>

                    <!-- modal close button -->
                    <label id="modal-close">
                      <button class='absolute top right btn color-lighten75 bg-base opacity75 bg-lighten25-on-hover border-t border-r bg-darken50-on-active round-full px3 py3 mt6 mr6 mt3-mm mr3-mm z5' onclick="toggleModal()">
                        <svg class='icon h24 w24 h30-mm w30-mm'><use xlink:href='#icon-close'/></svg>
                      </button>
                    </label>

                  </div> <!-- end modal inner wrapper -->

                </div><!-- end modal content options -->

              </div> <!-- end modal -->

            </div>

          </div> <!-- end of map and dash wrapper -->

        </section>

        <!-- ASIDE -->
        <aside id="aside" class='flex-child scroll-hidden wmax360-mxl bg-aside'> <!-- relative? --> <!-- absolute bottom relative-mxl  h-full-mxl-->

          <!-- inner about/sidebar content wrapper -->
          <div class="flex-parent flex-parent--column flex-parent--center-main flex-parent--stretch-cross"><!--  space-between-main -->

            <!-- about/sources pane -->
            <div id="about-plus" class="flex-child bg-lighten75-mxl"> <!-- relative? scroll-hidden? --> <!-- w-full relative mb-neg6 mb0-ml">

              <!-- about toggles and content group -->
              <div class="flex-parent flex-parent--column flex-parent--row-mxl flex-parent--center-main flex-parent--stretch-cross">

                <!-- toggles -->
                <div id="about-toggles" class="flex-child">

                  <div class="flex-parent flex-parent--center-cross flex-parent--center-main">

                    <!-- about expand triggers -->
                    <label id="about-expand" class="flex-child h24 w24-mxl none">

                      <!-- about expand triangle--u -->
                      <button id="about-up-btn" class='absolute left right btn color-lighten100 bg-accent2 bg-red-light-on-hover color-darken50-on-hover color-darken75-on-active unround h24 w-full none-mxl' onclick="expand('about','up')"><!-- unround or round-t-full? border-t? -->
                        <span id="about-up" class='icon triangle-l triangle-l--u mx-auto mt-neg6'>
                          <!-- <svg class='icon absolute bg-transparent color-darken75 h36 w36 ml-neg18 pb12 z5'><use xlink:href='#icon-info'/></svg> -->
                        </span>
                      </button>

                      <!-- about expand triangle--l -->
                      <button class='absolute top bottom btn color-lighten100 bg-transparent bg-red-light-on-hover color-darken50-on-hover color-darken75-on-active unround border-r px0 none block-mxl z4' onclick="expand('about','left')"><!--opacity50 border-l bg-accent2-->
                        <span class='icon triangle-l triangle-l--l'></span>
                      </button>

                    </label>

                    <!-- about collapse triggers -->
                    <label id="about-collapse" class="flex-child h12 w6-mxl z4">

                      <!-- about collapse triangle--d -->
                      <button id="about-down" class='absolute left right btn color-lighten100 bg-transparent color-darken50-on-hover color-darken75-on-active unround h18 border-t w-full none-mxl' onclick="collapse('about','down')">
                        <span class='icon triangle-l triangle-l--d mx-auto'></span>
                      </button>

                      <!-- about collapse triangle--r -->
                      <button class='absolute top bottom btn color-lighten100 bg-transparent color-darken50-on-hover color-darken75-on-active border-l unround none block-mxl' onclick="collapse('about','right')"><!-- border border--2 round-full py6 pr6 pl0 -->
                        <span class='icon triangle-l triangle-l--r ml-neg3'></span> <!-- none inline-block-mxl absolute left -->
                      </button>

                    </label>

                  </div>

                </div>

                <div id="about" class="flex-child wmax300-mxl"><!-- relative -->

                  <!-- about inner wrapper --> <!-- rm fp-center-main?-->
                  <div id="about-wrapper" class='flex-parent flex-parent--column-mxl flex-parent--stretch-cross flex-parent--center-main py12-mxl px12-mxl'><!--my3-mxl-->

                    <!-- content -->
                    <div id="about-content" class='flex-child bg-lighten25 round-mm shadow-darken25-mm h-full-mxl mx6-mm mb6-mm mx12-mm mb12-mm mx0-mxl my0-mxl w-full w-auto-mxl'>

                      <!-- inner vertical wrapper -->
                      <div class='flex-parent flex-parent--column flex-parent--center-main flex-parent--stretch-cross flex-parent--space-between-main h-full-mxl px6 py6'>

                        <!-- About--Header -->
                        <div class="flex-child flex-child--no-shrink bg-lighten25 round-tl round-tr hmin18 hmin36-mxl pt6 pb3 py12-mxl flex-parent flex-parent--center-cross flex-parent--center-main">
                          <h3 class='flex-child txt-h4 txt-bold txt-em pt3 pt0-mxl'>About This Map</h3>
                        </div>

                        <!-- About--Main -->
                        <div class="flex-child hmax120 hmax-none-mxl h-full-mxl bg-lighten50 txt-s txt-m-ml round-bl round-br scroll-auto">

                          <!-- inner content wrapper -->
                          <div class="flex-child flex-parent flex-parent--column flex-parent--row-mm flex-parent--column-mxl flex-parent--space-between-main flex-parent--stretch-cross grid px12 py6 py12-mm px24-mxl py18-mxl mx6 my6 mx0-mm my0-mm mx12-mxl my12-mxl">
                            <!-- main about text, orientation, etc -->
                            <div class='flex-child col col--offl2 col--10 col--offl1-mm col--4-mm col--11-mxl align-r py3 pt0-mxl'>
                              <h4 class="txt-h5 txt-h4-ml txt-bold py3">Some words</h4>
                              <p class="py3">This map visualizes ~~~~~~.</p>
                              <p class="py3">Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Sed posuere consectetur est at lobortis. Aenean eu leo quam.</p>
                            </div>
                            <div class='flex-child col col--12 col--2-mm col--12-mxl px6 py18 my30-mxl relative'>
                              <div class="flex-parent flex-parent--column flex-parent--center-main flex-parent--center-cross absolute top bottom left right mb12">
                                <span class="flex-child txt-xs h3">&#10229;//\\//\\&#10230;</span>
                                <span class="flex-child txt-xs h3">&#10229;\\//\\//&#10230;</span>
                              </div>
                            </div>
                            <!-- data sources, sub-about, furthermore -->
                            <div class='flex-child col col--offr2 col--10 col--offr1-mm col--4-mm col--11-mxl py3 pb0-mxl'>
                              <h4 class="txt-h5 txt-h4-ml txt-bold py3">Data sources</h4>
                              <ul class="py3">
                                <li class="txt-li">
                                  <div class="triangle triangle--r color-symbol inline-block mb-neg2 mb-neg1-mxl"></div>
                                  <a target='_blank' href='#'>this is how i go</a>
                                </li>
                                <li class="txt-li">
                                  <div class="triangle triangle--r color-symbol inline-block mb-neg2 mb-neg1-mxl"></div>
                                  <a target='_blank' href='#'>when i go</a>
                                </li>
                                <li class="txt-li">
                                  <div class="triangle triangle--r color-symbol inline-block mb-neg2 mb-neg1-mxl"></div>
                                  <a target='_blank' href='#'>like this</a>
                                </li>
                              </ul>
                            </div>
                          </div>

                        </div>

                        <!-- About--Footer -->
                        <!-- <footer class='flex-child flex-child--no-shrink h0 bg-lighten25 round-bl round-br'></footer> -->

                      </div>

                    </div>

                  </div>

                </div>

              </div>

            </div>

          </div>

        </aside>

      </div>

    </main>

    <!-- footer stays on the bottom at full width -->
    <footer id="footer" class="flex-child flex-child--no-shrink bg-darken50 color-lighten75 txt-s txt-m-ml">
      <!-- inner horizontal wrapper -->
      <div class='flex-parent flex-parent--center-cross grid px6 py3 px12-mm px18-ml px24-mxl ml3'>
        <!-- author info -->
        <div class='flex-child col col--5'>
          <span class="mx6">
            <span>Map by <a target='_blank' href='https://kafunk.github.io'>Katrina Funk</a></span>
            <br class="none-mm"/>
            <span class="mx6 mx0-mm">for MAP 673 // <a target='_blank' class='link' href='https://newmapsplus.uky.edu'> New Maps Plus</a>.</span>
          </span>
        </div>
        <!-- break/divider icon visible @ mm+ -->
        <div class="flex-child col col--2 ml-neg1">
          <svg class="icon mx-auto h30 w30 color-lighten75"><use xlink:href="assets/compass-rose.svg#compass-rose"/></svg>
        </div>
        <!-- social media -->
        <div class="flex-child col col--5 flex-parent flex-parent--end-main flex-parent--center-cross">
          <a target="_blank" href="mailto:kafunk@gmail.com">
            <svg class='flex-child inline-block icon h24 w24 mx6 mb-neg6' alt="email"><use xlink:href='#icon-mail'/></svg>
          </a>
          <a target="_blank" href="https://github.com/kafunk">
            <svg class='flex-child inline-block icon h24 w24 mx6 mb-neg6' alt="github"><use xlink:href='#icon-github'/></svg>
          </a>
          <a target="_blank" href="https://twitter.com/kafunkafunk">
            <svg class='flex-child inline-block icon h24 w24 mx6 mb-neg6' alt="twitter"><use xlink:href='#icon-twitter'/></svg>
          </a>
          <a target="_blank" href="https://www.instagram.com/kafunkafunk">
            <svg class='flex-child inline-block icon h24 w24 mx6 mb-neg6' alt="instagram"><use xlink:href='#icon-instagram'/></svg>
          </a>
          <!-- <a target="_blank" href="https://open.spotify.com/user/kafunkafunk">
            <svg class='flex-child inline-block icon h24 w24 mx6 mb-neg6' alt="spotify"><use xlink:href='#icon-spotify'/></svg>
          </a> -->
          <!-- Pinterest,Dribbble,LinkedIn? -->
        </div>
      </div>
    </footer>

  </div> <!-- end of body inner wrapper -->

  <!---~~~=== JAVASCRIPT ===~~~--->

  <!-- load Assembly -->
  <script async defer src='https://api.mapbox.com/mapbox-assembly/v0.21.2/assembly.js'></script>

  <!-- load MapboxGL -->
  <!-- <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.45.0/mapbox-gl.js'></script> -->

  <!-- load Turf.js -->
  <script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>

  <!-- load Simple Statistics -->
  <!-- <script src="https://unpkg.com/simple-statistics@6.0.1/dist/simple-statistics.min.js"></script> -->

  <!-- load D3 -->
  <script src="https://d3js.org/d3.v5.js"></script>
  <script src="https://unpkg.com/topojson@3"></script>
  <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
  <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
  <script src="https://unpkg.com/d3-simple-slider"></script>

  <!-- load Chroma.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.0.2/chroma.min.js"></script>

  <!-- GeoTIFF -->
  <!-- <script src="https://unpkg.com/geotiff@1.0.0-beta.6/dist/geotiff.bundle.min.js"></script> -->

  <!-- from local Vendor folder -->
  <!-- Mapbox Polyline.js -->
  <script src='vendor/mapbox/polyline/src/polyline.js'></script>
  <!-- load Textures.js -->
  <script src="vendor/textures/dist/textures.js"></script>

  <!-- load custom scripts -->
  <script src="js/main.js"></script>

</body>
</html>
